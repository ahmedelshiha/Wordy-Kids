/* =====================================================
   ENHANCED JUNGLE QUIZ ADVENTURE - AAA VISUAL EFFECTS
   ===================================================== */

/* ==============================
   DYNAMIC BACKGROUND THEMES
   ============================== */

.jungle-background-morning {
  background:
    radial-gradient(
      circle at 20% 80%,
      hsl(var(--color-banana-500) / 0.15) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 80% 20%,
      hsl(var(--color-jungle-500) / 0.2) 0%,
      transparent 50%
    ),
    linear-gradient(
      135deg,
      hsl(var(--quiz-morning-start)) 0%,
      hsl(var(--quiz-morning-mid)) 25%,
      hsl(var(--quiz-morning-end)) 50%,
      hsl(var(--color-jungle-300)) 75%,
      hsl(var(--color-jungle-400)) 100%
    );
  position: relative;
}

.jungle-background-midday {
  background:
    radial-gradient(
      circle at 30% 70%,
      hsl(var(--color-banana-500) / 0.2) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 70% 30%,
      hsl(var(--color-jungle-400) / 0.25) 0%,
      transparent 50%
    ),
    linear-gradient(
      135deg,
      hsl(var(--quiz-midday-start)) 0%,
      hsl(var(--quiz-midday-mid)) 25%,
      hsl(var(--quiz-midday-end)) 50%,
      hsl(var(--color-jungle-200)) 75%,
      hsl(var(--color-jungle-100)) 100%
    );
}

.jungle-background-evening {
  background:
    radial-gradient(
      circle at 40% 60%,
      hsl(var(--color-wood-500) / 0.15) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 60% 40%,
      hsl(var(--quiz-evening-mid) / 0.3) 0%,
      transparent 50%
    ),
    linear-gradient(
      135deg,
      hsl(var(--quiz-evening-start)) 0%,
      hsl(var(--quiz-evening-mid)) 25%,
      hsl(var(--quiz-evening-end)) 50%,
      hsl(var(--color-jungle-400)) 75%,
      hsl(var(--color-jungle-300)) 100%
    );
}

.jungle-background-night {
  background:
    radial-gradient(
      circle at 50% 50%,
      hsl(var(--color-sky-600) / 0.1) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 25% 75%,
      hsl(var(--quiz-night-start) / 0.4) 0%,
      transparent 50%
    ),
    linear-gradient(
      135deg,
      hsl(var(--quiz-night-start)) 0%,
      hsl(var(--quiz-night-mid)) 25%,
      hsl(var(--quiz-night-end)) 50%,
      hsl(var(--color-jungle-500)) 75%,
      hsl(var(--color-jungle-400)) 100%
    );
}

/* ==============================
   PARALLAX LAYERS
   ============================== */

.jungle-parallax-layer-1 {
  background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 300'><path d='M0,100 Q250,50 500,100 T1000,100 L1000,300 L0,300 Z' fill='%23388E3C' opacity='0.3'/></svg>");
  background-size: 100% 100%;
  background-repeat: no-repeat;
  background-position: bottom;
  animation: gentle-parallax-1 8s ease-in-out infinite;
}

.jungle-parallax-layer-2 {
  background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 200'><path d='M0,80 Q200,40 400,80 T800,80 L1000,80 L1000,200 L0,200 Z' fill='%234CAF50' opacity='0.2'/></svg>");
  background-size: 120% 100%;
  background-repeat: no-repeat;
  background-position: bottom;
  animation: gentle-parallax-2 10s ease-in-out infinite;
}

.jungle-parallax-layer-3 {
  background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 150'><path d='M0,60 Q150,30 300,60 T600,60 L1000,60 L1000,150 L0,150 Z' fill='%2366BB6A' opacity='0.15'/></svg>");
  background-size: 150% 100%;
  background-repeat: no-repeat;
  background-position: bottom;
  animation: gentle-parallax-3 12s ease-in-out infinite;
}

@keyframes gentle-parallax-1 {
  0%,
  100% {
    transform: translateX(0px) translateY(0px);
  }
  25% {
    transform: translateX(-10px) translateY(-5px);
  }
  50% {
    transform: translateX(5px) translateY(-8px);
  }
  75% {
    transform: translateX(-5px) translateY(-3px);
  }
}

@keyframes gentle-parallax-2 {
  0%,
  100% {
    transform: translateX(0px) translateY(0px);
  }
  33% {
    transform: translateX(8px) translateY(-4px);
  }
  66% {
    transform: translateX(-8px) translateY(-6px);
  }
}

@keyframes gentle-parallax-3 {
  0%,
  100% {
    transform: translateX(0px) translateY(0px);
  }
  50% {
    transform: translateX(-12px) translateY(-2px);
  }
}

/* ==============================
   WEATHER EFFECTS
   ============================== */

.weather-sunny::after {
  content: "";
  position: absolute;
  top: 10%;
  right: 15%;
  width: 100px;
  height: 100px;
  background: radial-gradient(
    circle,
    rgba(255, 235, 59, 0.6) 0%,
    rgba(255, 235, 59, 0.3) 40%,
    transparent 70%
  );
  border-radius: 50%;
  animation: gentle-sun-glow 4s ease-in-out infinite;
}

.weather-misty::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 30%,
    rgba(255, 255, 255, 0.15) 70%,
    transparent 100%
  );
  animation: misty-flow 6s ease-in-out infinite;
  pointer-events: none;
}

.weather-gentle-rain::before {
  content: "";
  position: absolute;
  top: -50px;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: linear-gradient(
    transparent 0%,
    rgba(173, 216, 230, 0.1) 50%,
    transparent 100%
  );
  background-size: 3px 20px;
  animation: gentle-rain-fall 1.5s linear infinite;
  pointer-events: none;
}

.weather-sparkles::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image:
    radial-gradient(2px 2px at 20px 30px, rgba(255, 215, 0, 0.8), transparent),
    radial-gradient(2px 2px at 40px 70px, rgba(255, 215, 0, 0.6), transparent),
    radial-gradient(1px 1px at 90px 40px, rgba(255, 215, 0, 0.5), transparent),
    radial-gradient(1px 1px at 130px 80px, rgba(255, 215, 0, 0.7), transparent);
  background-size: 150px 100px;
  animation: sparkle-twinkle 2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes gentle-sun-glow {
  0%,
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.1) rotate(180deg);
    opacity: 0.8;
  }
}

@keyframes misty-flow {
  0%,
  100% {
    transform: translateX(0px);
    opacity: 0.1;
  }
  50% {
    transform: translateX(20px);
    opacity: 0.15;
  }
}

@keyframes gentle-rain-fall {
  0% {
    transform: translateY(-100vh);
  }
  100% {
    transform: translateY(100vh);
  }
}

@keyframes sparkle-twinkle {
  0%,
  100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.2);
  }
}

/* ==============================
   3D CARD EFFECTS
   ============================== */

.treasure-option-card {
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  position: relative;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.9) 0%,
    rgba(255, 255, 255, 0.7) 100%
  );
  border: 2px solid rgba(76, 175, 80, 0.3);
  box-shadow:
    0 8px 25px rgba(76, 175, 80, 0.15),
    0 4px 12px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

.treasure-option-card:hover {
  transform: translateY(-12px) scale(1.03);
  box-shadow:
    0 25px 50px hsl(var(--color-jungle-500) / 0.25),
    0 15px 30px hsl(var(--color-jungle-400) / 0.15),
    0 5px 15px hsl(0 0% 0% / 0.1),
    inset 0 1px 0 hsl(0 0% 100% / 0.8);
  border-color: hsl(var(--color-jungle-500) / 0.6);
}

.treasure-option-card:active {
  transform: translateY(-8px) scale(0.98);
  transition: all 0.1s ease-out;
}

.jungle-treasure-card {
  transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  background: linear-gradient(
    135deg,
    hsl(0 0% 100% / 0.95) 0%,
    hsl(var(--color-jungle-100) / 0.9) 50%,
    hsl(0 0% 100% / 0.95) 100%
  );
  border: 3px solid var(--quiz-treasure-border);
  box-shadow:
    0 20px 40px var(--quiz-treasure-shadow),
    0 10px 25px hsl(var(--color-jungle-400) / 0.1),
    inset 0 2px 0 hsl(0 0% 100% / 0.7),
    inset 0 -2px 0 hsl(var(--color-jungle-500) / 0.1);
}

.jungle-treasure-card:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow:
    0 30px 60px rgba(76, 175, 80, 0.3),
    0 15px 35px rgba(139, 195, 74, 0.2),
    inset 0 2px 0 rgba(255, 255, 255, 0.8),
    inset 0 -2px 0 rgba(76, 175, 80, 0.2);
}

/* ==============================
   GLASS MORPHISM UI ELEMENTS
   ============================== */

.jungle-glass-button {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.25) 0%,
    rgba(255, 255, 255, 0.1) 100%
  );
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow:
    0 8px 20px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.jungle-glass-button:hover {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.35) 0%,
    rgba(255, 255, 255, 0.2) 100%
  );
  transform: translateY(-2px);
  box-shadow:
    0 12px 25px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.jungle-glass-morphism {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.3) 0%,
    rgba(255, 255, 255, 0.1) 100%
  );
  backdrop-filter: blur(15px) saturate(180%);
  -webkit-backdrop-filter: blur(15px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.jungle-audio-button {
  background: linear-gradient(
    135deg,
    rgba(76, 175, 80, 0.9) 0%,
    rgba(139, 195, 74, 0.9) 100%
  );
  border: 2px solid rgba(255, 255, 255, 0.3);
  color: white;
  font-weight: 600;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  box-shadow:
    0 10px 25px rgba(76, 175, 80, 0.3),
    0 5px 15px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.jungle-audio-button:hover {
  background: linear-gradient(
    135deg,
    rgba(76, 175, 80, 1) 0%,
    rgba(139, 195, 74, 1) 100%
  );
  transform: translateY(-3px) scale(1.05);
  box-shadow:
    0 15px 35px rgba(76, 175, 80, 0.4),
    0 8px 20px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.jungle-continue-button {
  background: linear-gradient(
    135deg,
    rgba(255, 193, 7, 0.9) 0%,
    rgba(255, 152, 0, 0.9) 100%
  );
  border: 2px solid rgba(255, 255, 255, 0.4);
  color: rgba(124, 77, 0, 0.9);
  font-weight: 700;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
  box-shadow:
    0 12px 30px rgba(255, 193, 7, 0.3),
    0 6px 18px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.jungle-continue-button:hover {
  background: linear-gradient(
    135deg,
    rgba(255, 193, 7, 1) 0%,
    rgba(255, 152, 0, 1) 100%
  );
  transform: translateY(-4px) scale(1.08);
  box-shadow:
    0 18px 40px rgba(255, 193, 7, 0.4),
    0 10px 25px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
}

/* ==============================
   PROGRESS AND UI ELEMENTS
   ============================== */

.jungle-progress-trail {
  background: linear-gradient(
    90deg,
    rgba(76, 175, 80, 0.2) 0%,
    rgba(139, 195, 74, 0.3) 50%,
    rgba(205, 220, 57, 0.2) 100%
  );
  border-radius: 8px;
  overflow: hidden;
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.1),
    0 1px 0 rgba(255, 255, 255, 0.5);
}

.jungle-progress-trail > div {
  background: linear-gradient(90deg, #4caf50 0%, #8bc34a 50%, #cddc39 100%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    0 0 15px rgba(76, 175, 80, 0.4);
  transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.treasure-badge {
  background: linear-gradient(
    135deg,
    rgba(255, 193, 7, 0.9) 0%,
    rgba(255, 235, 59, 0.9) 100%
  );
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow:
    0 4px 12px rgba(255, 193, 7, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  font-weight: 700;
  text-shadow: 0 1px 2px rgba(124, 77, 0, 0.3);
}

.streak-badge {
  background: linear-gradient(
    135deg,
    rgba(255, 152, 0, 0.9) 0%,
    rgba(255, 87, 34, 0.9) 100%
  );
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow:
    0 4px 12px rgba(255, 152, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
  animation: streak-pulse 2s ease-in-out infinite;
}

.gems-badge {
  background: linear-gradient(
    135deg,
    rgba(156, 39, 176, 0.9) 0%,
    rgba(142, 36, 170, 0.9) 100%
  );
  border: 1px solid rgba(255, 255, 255, 0.4);
  color: white;
  box-shadow:
    0 4px 12px rgba(156, 39, 176, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.level-badge {
  background: linear-gradient(
    135deg,
    rgba(33, 150, 243, 0.9) 0%,
    rgba(25, 118, 210, 0.9) 100%
  );
  border: 1px solid rgba(255, 255, 255, 0.4);
  color: white;
  box-shadow:
    0 4px 12px rgba(33, 150, 243, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

@keyframes streak-pulse {
  0%,
  100% {
    transform: scale(1);
    box-shadow:
      0 4px 12px rgba(255, 152, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.5);
  }
  50% {
    transform: scale(1.05);
    box-shadow:
      0 6px 18px rgba(255, 152, 0, 0.5),
      inset 0 1px 0 rgba(255, 255, 255, 0.6);
  }
}

/* ==============================
   CINEMATIC ANIMATIONS
   ============================== */

@keyframes jungle-entrance {
  0% {
    opacity: 0;
    transform: translateY(50px) scale(0.8);
    filter: blur(5px);
  }
  50% {
    opacity: 0.7;
    transform: translateY(-10px) scale(1.05);
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0px);
  }
}

@keyframes treasureDiscovery {
  0% {
    transform: scale(1) rotate(0deg);
    filter: brightness(1) hue-rotate(0deg);
  }
  25% {
    transform: scale(1.15) rotate(3deg);
    filter: brightness(1.2) hue-rotate(10deg);
  }
  50% {
    transform: scale(1.08) rotate(-2deg);
    filter: brightness(1.4) hue-rotate(20deg);
  }
  75% {
    transform: scale(1.12) rotate(1deg);
    filter: brightness(1.3) hue-rotate(15deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
    filter: brightness(1.1) hue-rotate(5deg);
  }
}

@keyframes jungle-celebration {
  0% {
    transform: scale(1) rotate(0deg);
    background-position: 0% 50%;
  }
  25% {
    transform: scale(1.1) rotate(5deg);
    background-position: 25% 50%;
  }
  50% {
    transform: scale(1.05) rotate(-3deg);
    background-position: 50% 50%;
  }
  75% {
    transform: scale(1.08) rotate(2deg);
    background-position: 75% 50%;
  }
  100% {
    transform: scale(1) rotate(0deg);
    background-position: 100% 50%;
  }
}

@keyframes jungle-level-up {
  0% {
    opacity: 0;
    transform: scale(0.5) translateY(100px);
    filter: blur(10px);
  }
  20% {
    opacity: 0.8;
    transform: scale(1.3) translateY(-20px);
    filter: blur(3px);
  }
  40% {
    opacity: 1;
    transform: scale(0.9) translateY(10px);
    filter: blur(1px);
  }
  60% {
    transform: scale(1.1) translateY(-5px);
    filter: blur(0px);
  }
  80% {
    transform: scale(0.95) translateY(2px);
  }
  100% {
    transform: scale(1) translateY(0);
  }
}

@keyframes celebration-sparkles {
  0% {
    opacity: 1;
    transform: scale(0) translateY(0px) rotate(0deg);
  }
  20% {
    opacity: 1;
    transform: scale(1.2) translateY(-10px) rotate(90deg);
  }
  50% {
    opacity: 0.8;
    transform: scale(1) translateY(-30px) rotate(180deg);
  }
  80% {
    opacity: 0.4;
    transform: scale(0.8) translateY(-50px) rotate(270deg);
  }
  100% {
    opacity: 0;
    transform: scale(0.3) translateY(-80px) rotate(360deg);
  }
}

@keyframes shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ==============================
   FLOATING JUNGLE ELEMENTS
   ============================== */

@keyframes jungle-float {
  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
    opacity: 0.6;
  }
  25% {
    transform: translateY(-20px) rotate(5deg);
    opacity: 0.8;
  }
  50% {
    transform: translateY(-10px) rotate(-3deg);
    opacity: 1;
  }
  75% {
    transform: translateY(-15px) rotate(2deg);
    opacity: 0.7;
  }
}

@keyframes jungle-glow {
  0%,
  100% {
    box-shadow:
      0 0 15px rgba(76, 175, 80, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    filter: brightness(1);
  }
  50% {
    box-shadow:
      0 0 25px rgba(76, 175, 80, 0.6),
      0 0 35px rgba(139, 195, 74, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.5);
    filter: brightness(1.1);
  }
}

@keyframes jungle-sparkle {
  0%,
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 0.7;
    filter: brightness(1);
  }
  25% {
    transform: scale(1.1) rotate(90deg);
    opacity: 1;
    filter: brightness(1.3);
  }
  50% {
    transform: scale(1.05) rotate(180deg);
    opacity: 0.9;
    filter: brightness(1.2);
  }
  75% {
    transform: scale(1.08) rotate(270deg);
    opacity: 0.8;
    filter: brightness(1.1);
  }
}

/* ==============================
   MOBILE OPTIMIZATIONS
   ============================== */

@media (max-width: 768px) {
  .treasure-option-card {
    margin-bottom: 1rem;
  }

  .treasure-option-card:hover {
    transform: translateY(-8px) scale(1.02);
  }

  .jungle-treasure-card {
    margin-bottom: 1.5rem;
  }

  .jungle-audio-button {
    padding: 1rem 1.5rem;
    font-size: 1.1rem;
  }

  .jungle-continue-button {
    padding: 1rem 2rem;
    font-size: 1.1rem;
    margin-top: 1.5rem;
  }

  /* Optimize particle effects for mobile */
  .weather-sparkles::after,
  .weather-gentle-rain::before {
    opacity: 0.5;
  }
}

/* ==============================
   ACCESSIBILITY ENHANCEMENTS
   ============================== */

.reduce-motion .treasure-option-card,
.reduce-motion .jungle-treasure-card,
.reduce-motion .jungle-glass-button {
  transition: all 0.2s ease;
  animation: none !important;
}

.reduce-motion .treasure-option-card:hover {
  transform: translateY(-4px) scale(1.02);
}

.reduce-motion .jungle-parallax-layer-1,
.reduce-motion .jungle-parallax-layer-2,
.reduce-motion .jungle-parallax-layer-3 {
  animation: none !important;
}

.high-contrast {
  filter: contrast(1.2) saturate(1.3);
}

.high-contrast .treasure-option-card {
  border: 3px solid #2e7d32;
  background: rgba(255, 255, 255, 0.95);
}

.high-contrast .jungle-treasure-card {
  border: 4px solid #1b5e20;
  background: rgba(255, 255, 255, 0.98);
}

/* ==============================
   PERFORMANCE OPTIMIZATIONS
   ============================== */

.treasure-option-card,
.jungle-treasure-card,
.jungle-glass-button {
  will-change: transform, box-shadow;
  contain: layout style paint;
}

.jungle-parallax-layer-1,
.jungle-parallax-layer-2,
.jungle-parallax-layer-3 {
  will-change: transform;
  contain: strict;
  transform: translateZ(0);
}

/* Force hardware acceleration - Compatible version */
.jungle-background-morning,
.jungle-background-midday,
.jungle-background-evening,
.jungle-background-night {
  will-change: transform;
}
