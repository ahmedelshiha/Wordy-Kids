/* JungleAdventureNavV3 Enhanced Animations */

/* Subtle Breathing Animation for All Icons */
@keyframes subtleBreathing {
  0%, 100% { 
    transform: scale(1); 
  }
  50% { 
    transform: scale(1.05); 
  }
}

/* Animal-Specific Micro-Movements */

/* ü¶ú Parrot - Head Tilt (every 15s) */
@keyframes parrotHeadTilt {
  0%, 88%, 100% { 
    transform: rotate(0deg); 
  }
  94% { 
    transform: rotate(3deg); 
  }
}

/* üêµ Monkey - Tail Wiggle (every 12s) */
@keyframes monkeyTailWiggle {
  0%, 90%, 100% { 
    transform: rotate(0deg); 
  }
  95% { 
    transform: rotate(2deg); 
  }
  97% { 
    transform: rotate(-1deg); 
  }
}

/* üêò Elephant - Ear Flap (every 18s) */
@keyframes elephantEarFlap {
  0%, 92%, 100% { 
    transform: scaleX(1); 
  }
  96% { 
    transform: scaleX(1.03); 
  }
}

/* Base Icon Styles */
.jng-nav-v3-icon {
  animation: subtleBreathing 8s ease-in-out infinite;
  transform-origin: center;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  will-change: transform;
  /* GPU acceleration for better performance */
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Animal-Specific Micro-Movement Classes */
.jng-nav-icon-parrot {
  animation: 
    subtleBreathing 8s ease-in-out infinite,
    parrotHeadTilt 15s ease-in-out infinite;
  animation-delay: 0s, 2s; /* Stagger the head tilt */
}

.jng-nav-icon-monkey {
  animation: 
    subtleBreathing 8s ease-in-out infinite,
    monkeyTailWiggle 12s ease-in-out infinite;
  animation-delay: 0s, 3s; /* Stagger the tail wiggle */
}

.jng-nav-icon-elephant {
  animation: 
    subtleBreathing 8s ease-in-out infinite,
    elephantEarFlap 18s ease-in-out infinite;
  animation-delay: 0s, 5s; /* Stagger the ear flap */
}

/* Active State Enhancement */
.jng-nav-v3-icon.active {
  animation-duration: 6s; /* Slightly faster breathing when active */
}

/* Hover State Enhancement */
.jng-nav-v3-icon:hover {
  animation-play-state: paused;
  transform: scale(1.15);
}

/* Touch/Tap State */
.jng-nav-v3-icon:active {
  animation-play-state: paused;
  transform: scale(0.95);
}

/* Performance Optimization for Low-End Devices */
@media (max-width: 768px) and (prefers-reduced-motion: no-preference) {
  /* Simplify animations on mobile for better performance */
  .jng-nav-icon-parrot,
  .jng-nav-icon-monkey,
  .jng-nav-icon-elephant {
    animation: subtleBreathing 8s ease-in-out infinite;
  }
  
  /* Only apply micro-movements on higher-end mobile devices */
  @media (min-resolution: 2dppx) {
    .jng-nav-icon-parrot {
      animation: 
        subtleBreathing 8s ease-in-out infinite,
        parrotHeadTilt 20s ease-in-out infinite; /* Slower on mobile */
    }
    
    .jng-nav-icon-monkey {
      animation: 
        subtleBreathing 8s ease-in-out infinite,
        monkeyTailWiggle 16s ease-in-out infinite; /* Slower on mobile */
    }
    
    .jng-nav-icon-elephant {
      animation: 
        subtleBreathing 8s ease-in-out infinite,
        elephantEarFlap 22s ease-in-out infinite; /* Slower on mobile */
    }
  }
}

/* Accessibility: Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .jng-nav-v3-icon,
  .jng-nav-icon-parrot,
  .jng-nav-icon-monkey,
  .jng-nav-icon-elephant {
    animation: none !important;
  }
  
  /* Keep subtle transform effects for interaction feedback */
  .jng-nav-v3-icon:hover {
    transform: scale(1.05);
    transition: transform 0.2s ease;
  }
  
  .jng-nav-v3-icon:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
}

/* Paused State (when animations are globally paused) */
.jng-nav-animations-paused .jng-nav-v3-icon,
.jng-nav-animations-paused .jng-nav-icon-parrot,
.jng-nav-animations-paused .jng-nav-icon-monkey,
.jng-nav-animations-paused .jng-nav-icon-elephant {
  animation-play-state: paused !important;
}

/* Enhanced Totem-Lift Effect */
.jng-nav-icon-container {
  position: relative;
  margin-bottom: 3px; /* Proportionally reduced space for lifted effect */
  min-height: 45px; /* Reduced height for compact navigation */
  min-width: 45px; /* Reduced width for compact navigation */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* Parent Menu Icon (Totem) Special Animation */
.jng-nav-icon-totem {
  animation: subtleBreathing 10s ease-in-out infinite; /* Slightly slower for totem */
  filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4));
}

.jng-nav-icon-totem:hover {
  animation-play-state: paused;
  transform: scale(1.12);
  filter: 
    drop-shadow(0 3px 6px rgba(0,0,0,0.4))
    drop-shadow(0 0 15px rgba(255,193,7,0.5));
}

/* Battery-Friendly Optimization */
@media (max-height: 667px) and (max-width: 375px) {
  /* iPhone SE and smaller devices - reduce animation frequency */
  .jng-nav-v3-icon {
    animation-duration: 12s; /* Slower breathing on small devices */
  }
  
  .jng-nav-icon-parrot {
    animation-duration: 12s, 25s; /* Much slower micro-movements */
  }
  
  .jng-nav-icon-monkey {
    animation-duration: 12s, 20s;
  }
  
  .jng-nav-icon-elephant {
    animation-duration: 12s, 30s;
  }
}

/* Dark mode considerations (if applicable) */
@media (prefers-color-scheme: dark) {
  .jng-nav-v3-icon {
    filter: 
      drop-shadow(0 2px 4px rgba(0,0,0,0.5))
      brightness(1.1);
  }
}
